Request Lifecycle à¹ƒà¸™ NestJS
Request à¹€à¸‚à¹‰à¸²à¸¡à¸²
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Middleware    â”‚  â†’ à¸›à¸£à¸°à¸¡à¸§à¸¥à¸œà¸¥à¸à¹ˆà¸­à¸™à¹€à¸‚à¹‰à¸² route (logging, cors)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Guards      â”‚  â†’ à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸ªà¸´à¸—à¸˜à¸´à¹Œ (auth, roles) âœ…/âŒ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Interceptors   â”‚  â†’ à¹à¸›à¸¥à¸‡ request (before)
â”‚    (Before)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Pipes       â”‚  â†’ validate/transform à¸‚à¹‰à¸­à¸¡à¸¹à¸¥
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Controller    â”‚  â†’ à¸£à¸±à¸š request, à¹€à¸£à¸µà¸¢à¸ service
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Service      â”‚  â†’ business logic, database operations
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Interceptors   â”‚  â†’ à¹à¸›à¸¥à¸‡ response (after)
â”‚    (After)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Exception Filter â”‚  â†’ à¸ˆà¸±à¸”à¸à¸²à¸£ errors (à¸–à¹‰à¸²à¸¡à¸µ)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    Response à¸­à¸­à¸



à¹à¸œà¸™à¸ à¸²à¸à¹à¸šà¸šà¸¥à¸°à¹€à¸­à¸µà¸¢à¸” (à¸•à¸²à¸¡ Official Documentation)

                            â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
                            â•‘         1. INCOMING REQUEST         
                            â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                                              â”‚
                                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              2. MIDDLEWARE                                    
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  2.1 Globally bound middleware (app.use())                            
â”‚  â”‚      â†’ à¸—à¸³à¸‡à¸²à¸™à¸à¹ˆà¸­à¸™, à¹ƒà¸Šà¹‰à¸à¸±à¸šà¸—à¸¸à¸ routes                                       
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                      â”‚                                         
â”‚                                      â–¼                                         
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  2.2 Module bound middleware                                           
â”‚  â”‚      â†’ à¸à¸³à¸«à¸™à¸”à¹ƒà¸™ Module, à¸—à¸³à¸‡à¸²à¸™à¸•à¸²à¸¡à¸¥à¸³à¸”à¸±à¸š imports array                    
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚
                                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                               3. GUARDS                                      
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  3.1 Global guards (app.useGlobalGuard() à¸«à¸£à¸·à¸­ APP_GUARD)            
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                      â”‚                                        
â”‚                                      â–¼                                          
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  3.2 Controller guards (@UseGuards() à¸—à¸µà¹ˆ Controller)            
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                      â”‚                                        
â”‚                                      â–¼                                        
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  3.3 Route guards (@UseGuards() à¸—à¸µà¹ˆ Method)                    
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                                
â”‚  ğŸ“Œ à¸¥à¸³à¸”à¸±à¸š: Guard1, Guard2 à¹ƒà¸™ @UseGuards(Guard1, Guard2) â†’ Guard1 à¸à¹ˆà¸­à¸™ Guard2   
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚
                                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        4. INTERCEPTORS (Pre-Controller)                       
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  4.1 Global interceptors                                     
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                      â”‚                                         
â”‚                                      â–¼                                           
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  4.2 Controller interceptors                                     
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                      â”‚                                        
â”‚                                      â–¼                                         
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  4.3 Route interceptors                                           
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                          
â”‚  ğŸ“Œ Interceptors à¹ƒà¸Šà¹‰ RxJS Observables                                        
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚
                                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                               5. PIPES                                        
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  5.1 Global pipes (app.useGlobalPipes())                        
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                      â”‚                                        
â”‚                                      â–¼                                       
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  5.2 Controller pipes (@UsePipes() à¸—à¸µà¹ˆ Controller)             
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                      â”‚                                     
â”‚                                      â–¼                                         
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  5.3 Route pipes (@UsePipes() à¸—à¸µà¹ˆ Method)                   
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                      â”‚                                       
â”‚                                      â–¼                                     
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  5.4 Route parameter pipes (@Body(), @Param(), @Query())           
â”‚  â”‚      â†’ à¸—à¸³à¸‡à¸²à¸™à¸ˆà¸²à¸ parameter à¸ªà¸¸à¸”à¸—à¹‰à¸²à¸¢à¹„à¸›à¹à¸£à¸ (Last â†’ First)             
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             
â”‚  ğŸ“Œ Parameter Order: @Query() â†’ @Param() â†’ @Body()                         
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚
                                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     6. CONTROLLER (Method Handler)                            
â”‚                                                                               
â”‚                         à¸£à¸±à¸š request à¹à¸¥à¸°à¹€à¸£à¸µà¸¢à¸ service                        
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚
                                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         7. SERVICE (if exists)                           
â”‚                                                                                  
â”‚                    Business logic, Database operations                       
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚
                                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       8. INTERCEPTORS (Post-Request)                 
â”‚                           âš ï¸ à¸¥à¸³à¸”à¸±à¸šà¸à¸¥à¸±à¸šà¸”à¹‰à¸²à¸™ (FILO)                               
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  8.1 Route interceptors                                                 
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                      â”‚                                      
â”‚                                      â–¼                                         
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  8.2 Controller interceptors                            
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                      â”‚                                        
â”‚                                      â–¼                                        
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  8.3 Global interceptors                                        
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             
â”‚   ğŸ“Œ First In Last Out: Route â†’ Controller â†’ Global                       
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚
                                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         9. EXCEPTION FILTERS                                  
â”‚                      âš ï¸ à¸—à¸³à¸‡à¸²à¸™à¹€à¸¡à¸·à¹ˆà¸­à¹€à¸à¸´à¸” uncaught exception                    
â”‚                      âš ï¸ à¸¥à¸³à¸”à¸±à¸šà¸à¸¥à¸±à¸šà¸”à¹‰à¸²à¸™ (Route â†’ Controller â†’ Global)      
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  9.1 Route filters (@UseFilters() à¸—à¸µà¹ˆ Method)                    
â”‚  â”‚      â†’ à¸–à¹‰à¸²à¸ˆà¸±à¸šà¹„à¸”à¹‰ à¸ˆà¸°à¹„à¸¡à¹ˆà¸ªà¹ˆà¸‡à¸•à¹ˆà¸­à¹ƒà¸«à¹‰ level à¸­à¸·à¹ˆà¸™                              
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                      â”‚                                        
â”‚                                      â–¼                                           
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  9.2 Controller filters (@UseFilters() à¸—à¸µà¹ˆ Controller)         
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                      â”‚                                       
â”‚                                      â–¼                                           
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  9.3 Global filters (app.useGlobalFilters())                      
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             
â”‚   ğŸ“Œ Exception à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸ªà¹ˆà¸‡à¸•à¹ˆà¸­à¸£à¸°à¸«à¸§à¹ˆà¸²à¸‡ filters à¹„à¸”à¹‰                           
â”‚   ğŸ“Œ à¹€à¸¡à¸·à¹ˆà¸­à¹€à¸à¸´à¸” uncaught exception â†’ à¸‚à¹‰à¸²à¸¡ lifecycle à¸—à¸µà¹ˆà¹€à¸«à¸¥à¸·à¸­à¸—à¸±à¸™à¸—à¸µ        
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚
                                              â–¼
                            â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
                            â•‘         10. SERVER RESPONSE                                                 â•‘
                            â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•



NestJS
src/
â”œâ”€â”€ common/                          # ğŸ“¦ à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œà¸£à¸§à¸¡ utilities à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰à¸£à¹ˆà¸§à¸¡à¸à¸±à¸™à¸—à¸±à¹‰à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸„
â”‚   â”‚
â”‚   â”œâ”€â”€ decorators/                  # ğŸ·ï¸ Custom Decorators
â”‚   â”‚   â”‚                            # à¹ƒà¸Šà¹‰à¸ªà¸£à¹‰à¸²à¸‡ metadata à¸«à¸£à¸·à¸­ shortcut à¸ªà¸³à¸«à¸£à¸±à¸š logic à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰à¸‹à¹‰à¸³
â”‚   â”‚   â”œâ”€â”€ current-user.decorator.ts    # à¸”à¸¶à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ user à¸ˆà¸²à¸ request (@CurrentUser())
â”‚   â”‚   â”œâ”€â”€ roles.decorator.ts           # à¸à¸³à¸«à¸™à¸” roles à¸—à¸µà¹ˆà¸­à¸™à¸¸à¸à¸²à¸• (@Roles('admin'))
â”‚   â”‚   â””â”€â”€ public.decorator.ts          # à¸£à¸°à¸šà¸¸ endpoint à¸—à¸µà¹ˆà¹„à¸¡à¹ˆà¸•à¹‰à¸­à¸‡ auth (@Public())
â”‚   â”‚
â”‚   â”œâ”€â”€ filters/                     # ğŸš¨ Exception Filters
â”‚   â”‚   â”‚                            # à¸ˆà¸±à¸”à¸à¸²à¸£ error responses à¹ƒà¸«à¹‰à¹€à¸›à¹‡à¸™à¸£à¸¹à¸›à¹à¸šà¸šà¹€à¸”à¸µà¸¢à¸§à¸à¸±à¸™
â”‚   â”‚   â”œâ”€â”€ http-exception.filter.ts     # à¸ˆà¸±à¸”à¸à¸²à¸£ HTTP exceptions à¸—à¸±à¹ˆà¸§à¹„à¸›
â”‚   â”‚   â”œâ”€â”€ validation.filter.ts         # à¸ˆà¸±à¸”à¸à¸²à¸£ validation errors
â”‚   â”‚   â””â”€â”€ all-exceptions.filter.ts     # à¸ˆà¸±à¸š error à¸—à¸¸à¸à¸›à¸£à¸°à¹€à¸ à¸— (catch-all)
â”‚   â”‚
â”‚   â”œâ”€â”€ guards/                      # ğŸ›¡ï¸ Guards (à¸•à¸±à¸§à¸›à¹‰à¸­à¸‡à¸à¸±à¸™)
â”‚   â”‚   â”‚                            # à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸ªà¸´à¸—à¸˜à¸´à¹Œà¸à¹ˆà¸­à¸™à¹€à¸‚à¹‰à¸²à¸–à¸¶à¸‡ route
â”‚   â”‚   â”œâ”€â”€ jwt-auth.guard.ts            # à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š JWT token
â”‚   â”‚   â”œâ”€â”€ roles.guard.ts               # à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š user role (admin, user)
â”‚   â”‚   â””â”€â”€ throttler.guard.ts           # à¸ˆà¸³à¸à¸±à¸” rate limit
â”‚   â”‚
â”‚   â”œâ”€â”€ interceptors/                # ğŸ”„ Interceptors (à¸•à¸±à¸§à¸”à¸±à¸à¸ˆà¸±à¸š)
â”‚   â”‚   â”‚                            # à¹à¸›à¸¥à¸‡ request/response à¸à¹ˆà¸­à¸™-à¸«à¸¥à¸±à¸‡à¹€à¸‚à¹‰à¸² handler
â”‚   â”‚   â”œâ”€â”€ transform.interceptor.ts     # à¹à¸›à¸¥à¸‡ response à¹€à¸›à¹‡à¸™à¸£à¸¹à¸›à¹à¸šà¸šà¸¡à¸²à¸•à¸£à¸à¸²à¸™
â”‚   â”‚   â”œâ”€â”€ logging.interceptor.ts       # à¸šà¸±à¸™à¸—à¸¶à¸ log à¸—à¸¸à¸ request
â”‚   â”‚   â”œâ”€â”€ timeout.interceptor.ts       # à¸à¸³à¸«à¸™à¸” timeout à¸ªà¸³à¸«à¸£à¸±à¸š request
â”‚   â”‚   â””â”€â”€ cache.interceptor.ts         # à¸ˆà¸±à¸”à¸à¸²à¸£ caching
â”‚   â”‚
â”‚   â””â”€â”€ pipes/                       # ğŸ”§ Pipes (à¸•à¸±à¸§à¹à¸›à¸¥à¸‡/à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š)
â”‚       â”‚                            # à¹à¸›à¸¥à¸‡à¸«à¸£à¸·à¸­ validate à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸à¹ˆà¸­à¸™à¹€à¸‚à¹‰à¸² handler
â”‚       â”œâ”€â”€ validation.pipe.ts           # à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸„à¸§à¸²à¸¡à¸–à¸¹à¸à¸•à¹‰à¸­à¸‡à¸‚à¸­à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥
â”‚       â”œâ”€â”€ parse-int.pipe.ts            # à¹à¸›à¸¥à¸‡ string à¹€à¸›à¹‡à¸™ number
â”‚       â””â”€â”€ file-validation.pipe.ts      # à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¹„à¸Ÿà¸¥à¹Œà¸—à¸µà¹ˆ upload
â”‚
â”œâ”€â”€ config/                          # âš™ï¸ Configuration Files
â”‚   â”‚                                # à¸ˆà¸±à¸”à¸à¸²à¸£à¸„à¹ˆà¸² settings à¹à¸¥à¸° environment variables
â”‚   â”œâ”€â”€ configuration.ts                 # à¸£à¸§à¸¡ config à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” (database, jwt, app)
â”‚   â”œâ”€â”€ database.config.ts               # config à¸ªà¸³à¸«à¸£à¸±à¸š database connection
â”‚   â”œâ”€â”€ jwt.config.ts                    # config à¸ªà¸³à¸«à¸£à¸±à¸š JWT (secret, expiry)
â”‚   â””â”€â”€ swagger.config.ts                # config à¸ªà¸³à¸«à¸£à¸±à¸š API documentation
â”‚
â”œâ”€â”€ modules/                         # ğŸ“ Feature Modules
â”‚   â”‚                                # à¹à¸¢à¸à¹‚à¸„à¹‰à¸”à¸•à¸²à¸¡ business domain/feature
â”‚   â”‚
â”‚   â”œâ”€â”€ auth/                        # ğŸ” Authentication Module
â”‚   â”‚   â”‚                            # à¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸²à¸£à¸¢à¸·à¸™à¸¢à¸±à¸™à¸•à¸±à¸§à¸•à¸™ (login, register, token)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ dto/                     # ğŸ“ Data Transfer Objects  à¸à¸³à¸«à¸™à¸”à¸£à¸¹à¸›à¹à¸šà¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥
â”‚   â”‚   â”‚   â”‚                        # à¸à¸³à¸«à¸™à¸”à¸£à¸¹à¸›à¹à¸šà¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥ input/output
â”‚   â”‚   â”‚   â”œâ”€â”€ login.dto.ts             # à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¸³à¸«à¸£à¸±à¸š login (email, password)
â”‚   â”‚   â”‚   â”œâ”€â”€ register.dto.ts          # à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¸³à¸«à¸£à¸±à¸šà¸ªà¸¡à¸±à¸„à¸£à¸ªà¸¡à¸²à¸Šà¸´à¸
â”‚   â”‚   â”‚   â”œâ”€â”€ refresh-token.dto.ts     # à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¸³à¸«à¸£à¸±à¸š refresh token
â”‚   â”‚   â”‚   â””â”€â”€ auth-response.dto.ts     # à¸£à¸¹à¸›à¹à¸šà¸š response (token, user info)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ guards/                  # ğŸ›¡ï¸ Auth-specific Guards
â”‚   â”‚   â”‚   â”‚                        # guards à¹€à¸‰à¸à¸²à¸°à¸ªà¸³à¸«à¸£à¸±à¸š auth module
â”‚   â”‚   â”‚   â”œâ”€â”€ local-auth.guard.ts      # à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š username/password
â”‚   â”‚   â”‚   â””â”€â”€ refresh-token.guard.ts   # à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š refresh token
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ strategies/              # ğŸ¯ Passport Strategies
â”‚   â”‚   â”‚   â”‚                        # à¸§à¸´à¸˜à¸µà¸à¸²à¸£à¸¢à¸·à¸™à¸¢à¸±à¸™à¸•à¸±à¸§à¸•à¸™à¹à¸šà¸šà¸•à¹ˆà¸²à¸‡à¹†
â”‚   â”‚   â”‚   â”œâ”€â”€ jwt.strategy.ts          # à¸¢à¸·à¸™à¸¢à¸±à¸™à¸”à¹‰à¸§à¸¢ JWT token
â”‚   â”‚   â”‚   â”œâ”€â”€ local.strategy.ts        # à¸¢à¸·à¸™à¸¢à¸±à¸™à¸”à¹‰à¸§à¸¢ username/password
â”‚   â”‚   â”‚   â””â”€â”€ google.strategy.ts       # à¸¢à¸·à¸™à¸¢à¸±à¸™à¸œà¹ˆà¸²à¸™ Google OAuth
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ auth.controller.ts       # ğŸ® Auth Controller
â”‚   â”‚   â”‚                            # à¸£à¸±à¸š HTTP requests à¹€à¸à¸µà¹ˆà¸¢à¸§à¸à¸±à¸š auth
â”‚   â”‚   â”‚                            # Routes: POST /auth/login, /auth/register, /auth/refresh
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ auth.module.ts           # ğŸ“¦ Auth Module Definition
â”‚   â”‚   â”‚                            # à¸£à¸§à¸¡ controller, service, imports à¸‚à¸­à¸‡ auth
â”‚   â”‚   â”‚                            # à¸›à¸£à¸°à¸à¸²à¸¨ dependencies à¹à¸¥à¸° exports
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ auth.service.ts          # âš¡ Auth Business Logic
â”‚   â”‚                                # Logic: validateUser, login, generateToken, refreshToken
â”‚   â”‚
â”‚   â””â”€â”€ users/                       # ğŸ‘¤ Users Module à¸ˆà¸±à¸”à¸à¸²à¸£à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰ (CRUD operations)
â”‚       â”‚
â”‚       â”œâ”€â”€ dto/                     # ğŸ“ User DTOs à¸à¸³à¸«à¸™à¸”à¸£à¸¹à¸›à¹à¸šà¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥
â”‚       â”‚   â”œâ”€â”€ create-user.dto.ts       # à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¸³à¸«à¸£à¸±à¸šà¸ªà¸£à¹‰à¸²à¸‡ user à¹ƒà¸«à¸¡à¹ˆ
â”‚       â”‚   â”œâ”€â”€ update-user.dto.ts       # à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¸³à¸«à¸£à¸±à¸šà¹à¸à¹‰à¹„à¸‚ user
â”‚       â”‚   â”œâ”€â”€ query-user.dto.ts        # à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¸³à¸«à¸£à¸±à¸š filter/search/pagination
â”‚       â”‚   â””â”€â”€ user-response.dto.ts     # à¸£à¸¹à¸›à¹à¸šà¸š response (à¹„à¸¡à¹ˆà¸£à¸§à¸¡ password)
â”‚       â”‚
â”‚       â”œâ”€â”€ entities/                # ğŸ—„ï¸ Database Entities à¸à¸³à¸«à¸™à¸”à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¸•à¸²à¸£à¸²à¸‡à¹ƒà¸™ database
â”‚       â”‚   â”‚                     
â”‚       â”‚   â””â”€â”€ user.entity.ts           # User table: id, name, email, password, role, timestamps
â”‚       â”‚
â”‚       â”œâ”€â”€ users.controller.ts      # ğŸ® Users Controller
â”‚       â”‚                            # à¸£à¸±à¸š HTTP requests à¹€à¸à¸µà¹ˆà¸¢à¸§à¸à¸±à¸š users
â”‚       â”‚                            # Routes: GET/POST/PUT/DELETE /users
â”‚       â”‚
â”‚       â”œâ”€â”€ users.module.ts          # ğŸ“¦ Users Module Definition
â”‚       â”‚                            # à¸£à¸§à¸¡ controller, service, entity à¸‚à¸­à¸‡ users
â”‚       â”‚
â”‚       â””â”€â”€ users.service.ts         # âš¡ Users Business Logic
â”‚                                    # Logic: findAll, findOne, create, update, delete
â”‚
â”œâ”€â”€ app.module.ts                    # ğŸ  Root Module (à¸ˆà¸¸à¸”à¸£à¸§à¸¡à¸—à¸¸à¸ modules)
â”‚                                    # Import à¸—à¸¸à¸ feature modules
â”‚                                    # Config global providers (guards, filters, interceptors)
â”‚                                    # Setup database connection, config module
â”‚
â””â”€â”€ main.ts                          # ğŸš€ Application Entry Point
                                    # à¸ªà¸£à¹‰à¸²à¸‡ NestJS application instance
                                    # Setup global pipes, filters, interceptors
                                    # Config CORS, Swagger, global prefix
                                    # Start server (app.listen)



NestJS
src/
â”œâ”€â”€ common/                          # ğŸ“¦ à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œà¸£à¸§à¸¡ utilities à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰à¸£à¹ˆà¸§à¸¡à¸à¸±à¸™à¸—à¸±à¹‰à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸„
â”‚   â”‚
â”‚   â”œâ”€â”€ decorators/             # ğŸ·ï¸à¹ƒà¸Šà¹‰à¸ªà¸£à¹‰à¸²à¸‡ metadata à¸«à¸£à¸·à¸­ shortcut à¸ªà¸³à¸«à¸£à¸±à¸š logic à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰à¸‹à¹‰à¸³
â”‚   â”‚   â”‚                       
â”‚   â”‚   â”œâ”€â”€ current-user.decorator.ts    # à¸”à¸¶à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ user à¸ˆà¸²à¸ request (@CurrentUser())
â”‚   â”‚   â”œâ”€â”€ roles.decorator.ts               # à¸à¸³à¸«à¸™à¸” roles à¸—à¸µà¹ˆà¸­à¸™à¸¸à¸à¸²à¸• (@Roles('admin'))
â”‚   â”‚   â””â”€â”€ public.decorator.ts             # à¸£à¸°à¸šà¸¸ endpoint à¸—à¸µà¹ˆà¹„à¸¡à¹ˆà¸•à¹‰à¸­à¸‡ auth (@Public())
â”‚   â”‚
â”‚   â”œâ”€â”€ filters/                     # ğŸš¨ à¸ˆà¸±à¸”à¸à¸²à¸£ error responses à¹ƒà¸«à¹‰à¹€à¸›à¹‡à¸™à¸£à¸¹à¸›à¹à¸šà¸šà¹€à¸”à¸µà¸¢à¸§à¸à¸±à¸™
â”‚   â”‚   â”‚                     
â”‚   â”‚   â”œâ”€â”€ http-exception.filter.ts     # à¸ˆà¸±à¸”à¸à¸²à¸£ HTTP exceptions à¸—à¸±à¹ˆà¸§à¹„à¸›
â”‚   â”‚   â”œâ”€â”€ validation.filter.ts         # à¸ˆà¸±à¸”à¸à¸²à¸£ validation errors
â”‚   â”‚   â””â”€â”€ all-exceptions.filter.ts     # à¸ˆà¸±à¸š error à¸—à¸¸à¸à¸›à¸£à¸°à¹€à¸ à¸— (catch-all)
â”‚   â”‚
â”‚   â”œâ”€â”€ guards/                   # ğŸ›¡ï¸ (à¸•à¸±à¸§à¸›à¹‰à¸­à¸‡à¸à¸±à¸™) à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸ªà¸´à¸—à¸˜à¸´à¹Œà¸à¹ˆà¸­à¸™à¹€à¸‚à¹‰à¸²à¸–à¸¶à¸‡ route
â”‚   â”‚   â”‚                         
â”‚   â”‚   â”œâ”€â”€ jwt-auth.guard.ts            # à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š JWT token
â”‚   â”‚   â”œâ”€â”€ roles.guard.ts               # à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š user role (admin, user)
â”‚   â”‚   â””â”€â”€ throttler.guard.ts           # à¸ˆà¸³à¸à¸±à¸” rate limit
â”‚   â”‚
â”‚   â”œâ”€â”€ interceptors/      # ğŸ”„ (à¸•à¸±à¸§à¸”à¸±à¸à¸ˆà¸±à¸š)  à¹à¸›à¸¥à¸‡ request/response à¸à¹ˆà¸­à¸™-à¸«à¸¥à¸±à¸‡à¹€à¸‚à¹‰à¸² handler
â”‚   â”‚   â”‚                           
â”‚   â”‚   â”œâ”€â”€ transform.interceptor.ts     # à¹à¸›à¸¥à¸‡ response à¹€à¸›à¹‡à¸™à¸£à¸¹à¸›à¹à¸šà¸šà¸¡à¸²à¸•à¸£à¸à¸²à¸™
â”‚   â”‚   â”œâ”€â”€ logging.interceptor.ts       # à¸šà¸±à¸™à¸—à¸¶à¸ log à¸—à¸¸à¸ request
â”‚   â”‚   â”œâ”€â”€ timeout.interceptor.ts       # à¸à¸³à¸«à¸™à¸” timeout à¸ªà¸³à¸«à¸£à¸±à¸š request
â”‚   â”‚   â””â”€â”€ cache.interceptor.ts         # à¸ˆà¸±à¸”à¸à¸²à¸£ caching
â”‚   â”‚
â”‚   â””â”€â”€ pipes/                 # ğŸ”§ (à¸•à¸±à¸§à¹à¸›à¸¥à¸‡/à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š) à¸«à¸£à¸·à¸­ validate à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸à¹ˆà¸­à¸™à¹€à¸‚à¹‰à¸² handler
â”‚       â”‚                          
â”‚       â”œâ”€â”€ validation.pipe.ts           # à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸„à¸§à¸²à¸¡à¸–à¸¹à¸à¸•à¹‰à¸­à¸‡à¸‚à¸­à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥
â”‚       â”œâ”€â”€ parse-int.pipe.ts            # à¹à¸›à¸¥à¸‡ string à¹€à¸›à¹‡à¸™ number
â”‚       â””â”€â”€ file-validation.pipe.ts      # à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¹„à¸Ÿà¸¥à¹Œà¸—à¸µà¹ˆ upload
â”‚
â”œâ”€â”€ config/                      # âš™ï¸ à¸ˆà¸±à¸”à¸à¸²à¸£à¸„à¹ˆà¸² settings à¹à¸¥à¸° environment variables
â”‚   â”‚                                
â”‚   â”œâ”€â”€ configuration.ts                 # à¸£à¸§à¸¡ config à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” (database, jwt, app)
â”‚   â”œâ”€â”€ database.config.ts               # config à¸ªà¸³à¸«à¸£à¸±à¸š database connection
â”‚   â”œâ”€â”€ jwt.config.ts                    # config à¸ªà¸³à¸«à¸£à¸±à¸š JWT (secret, expiry)
â”‚   â””â”€â”€ swagger.config.ts                # config à¸ªà¸³à¸«à¸£à¸±à¸š API documentation
â”‚
â”œâ”€â”€ modules/         # ğŸ“ à¹à¸¢à¸à¹‚à¸„à¹‰à¸”à¸•à¸²à¸¡ business domain/feature
â”‚   â”‚                            
â”‚   â”œâ”€â”€ auth/             # ğŸ”à¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸²à¸£à¸¢à¸·à¸™à¸¢à¸±à¸™à¸•à¸±à¸§à¸•à¸™ (login, register, token)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ dto/               # ğŸ“ Data Transfer Objects à¸à¸³à¸«à¸™à¸”à¸£à¸¹à¸›à¹à¸šà¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥ input/output
â”‚   â”‚   â”‚   â”‚                     
â”‚   â”‚   â”‚   â”œâ”€â”€ login.dto.ts                     # à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¸³à¸«à¸£à¸±à¸š login (email, password)
â”‚   â”‚   â”‚   â””â”€â”€ auth-response.dto.ts     # à¸£à¸¹à¸›à¹à¸šà¸š response (token, user info)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ guards/         # ğŸ›¡ï¸ Auth-specific Guards à¹€à¸‰à¸à¸²à¸°à¸ªà¸³à¸«à¸£à¸±à¸š auth module
â”‚   â”‚   â”‚   â”‚                       
â”‚   â”‚   â”‚   â”œâ”€â”€ local-auth.guard.ts      # à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š username/password
â”‚   â”‚   â”‚   â””â”€â”€ refresh-token.guard.ts   # à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š refresh token
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ strategies/     # ğŸ¯ Passport Strategies à¸§à¸´à¸˜à¸µà¸à¸²à¸£à¸¢à¸·à¸™à¸¢à¸±à¸™à¸•à¸±à¸§à¸•à¸™à¹à¸šà¸šà¸•à¹ˆà¸²à¸‡à¹†
â”‚   â”‚   â”‚   â”‚                    
â”‚   â”‚   â”‚   â”œâ”€â”€ jwt.strategy.ts            # à¸¢à¸·à¸™à¸¢à¸±à¸™à¸”à¹‰à¸§à¸¢ JWT token
â”‚   â”‚   â”‚   â”œâ”€â”€ local.strategy.ts         # à¸¢à¸·à¸™à¸¢à¸±à¸™à¸”à¹‰à¸§à¸¢ username/password
â”‚   â”‚   â”‚   â””â”€â”€ google.strategy.ts      # à¸¢à¸·à¸™à¸¢à¸±à¸™à¸œà¹ˆà¸²à¸™ Google OAuth
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ auth.controller.ts       # ğŸ® Auth Controller  à¸£à¸±à¸š HTTP requests à¹€à¸à¸µà¹ˆà¸¢à¸§à¸à¸±à¸š auth   
â”‚   â”‚   â”‚                                    # Routes: POST /auth/login, /auth/register, /auth/refresh
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ auth.module.ts           # ğŸ“¦ Auth Module Definition
â”‚   â”‚   â”‚                            # à¸£à¸§à¸¡ controller, service, imports à¸‚à¸­à¸‡ auth
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ auth.service.ts            # âš¡ Auth Business Logic
â”‚   â”‚                                       # Logic: validateUser, login, generateToken, refreshToken
â”‚   â”‚
â”‚   â””â”€â”€ users/          # ğŸ‘¤ à¸ˆà¸±à¸”à¸à¸²à¸£à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰ (CRUD operations)
â”‚       â”‚
â”‚       â”œâ”€â”€ dto/                     # ğŸ“ User DTOs à¸à¸³à¸«à¸™à¸”à¸£à¸¹à¸›à¹à¸šà¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥
â”‚       â”‚   â”œâ”€â”€ create-user.dto.ts       # à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¸³à¸«à¸£à¸±à¸šà¸ªà¸£à¹‰à¸²à¸‡ user à¹ƒà¸«à¸¡à¹ˆ
â”‚       â”‚   â”œâ”€â”€ update-user.dto.ts       # à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¸³à¸«à¸£à¸±à¸šà¹à¸à¹‰à¹„à¸‚ user
â”‚       â”‚   â”œâ”€â”€ query-user.dto.ts        # à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¸³à¸«à¸£à¸±à¸š filter/search/pagination
â”‚       â”‚   â””â”€â”€ user-response.dto.ts     # à¸£à¸¹à¸›à¹à¸šà¸š response (à¹„à¸¡à¹ˆà¸£à¸§à¸¡ password)
â”‚       â”‚
â”‚       â”œâ”€â”€ entities/                # ğŸ—„ï¸ Database Entities  à¸à¸³à¸«à¸™à¸”à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¸•à¸²à¸£à¸²à¸‡à¹ƒà¸™ database
â”‚       â”‚   â”‚                
â”‚       â”‚   â””â”€â”€ user.entity.ts           # User table: id, name, email, password, role, timestamps
â”‚       â”‚
â”‚       â”œâ”€â”€ users.controller.ts      # ğŸ® Users Controller
â”‚       â”‚                            # à¸£à¸±à¸š HTTP requests à¹€à¸à¸µà¹ˆà¸¢à¸§à¸à¸±à¸š users
â”‚       â”‚                            # Routes: GET/POST/PUT/DELETE /users
â”‚       â”‚
â”‚       â”œâ”€â”€ users.module.ts          # ğŸ“¦ Users Module Definition
â”‚       â”‚                            # à¸£à¸§à¸¡ controller, service, entity à¸‚à¸­à¸‡ users
â”‚       â”‚
â”‚       â””â”€â”€ users.service.ts           # âš¡ Users Business Logic
â”‚                                    # Logic: findAll, findOne, create, update, delete
â”‚
â”œâ”€â”€ app.module.ts             # ğŸ  Root Module (à¸ˆà¸¸à¸”à¸£à¸§à¸¡à¸—à¸¸à¸ modules)
â”‚                                    # Import à¸—à¸¸à¸ feature modules
â”‚                                    # Config global providers (guards, filters, interceptors)
â”‚                                    # Setup database connection, config module
â”‚
â””â”€â”€ main.ts                 # ğŸš€ Application Entry Point
                                     # à¸ªà¸£à¹‰à¸²à¸‡ NestJS application instance
                                     # Setup global pipes, filters, interceptors
                                     # Config CORS, Swagger, global prefix
                                     # Start server (app.listen)


